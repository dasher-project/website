 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><HEAD><META content="text/html; charset=iso-8859-2" http-equiv=Content-Type>
<link rel="shortcut icon" href="/favicon.ico">
<Title>
Inference Group: Projekt Dasher: Making the Training Text 
</Title>
<STYLE TYPE="TEXT/CSS"><!--
H4,P,TD,TH,UL,DD,DT,DL,OL { font-family:  'Lucida Grande', Verdana, Geneva, Lucida, Arial, Helvetica, sans-serif}
P.indented {margin-left:0.5cm; margin-right:0.5cm}
BODY,DIV { font-family:  'Lucida Grande', Verdana, Geneva, Lucida, Arial, Helvetica, sans-serif;}
TT,PRE { font-family: Courier, monospace;}
SUP,SUB,SMALL { font-size: 90%}
.smaller { font-size: 80%}
SPAN.header { font-family: times, roman; font-size: 200%}
H1 { font-family:  'Lucida Grande', Verdana, Geneva, Lucida, arial, helvetica, sans serif; font-size: 180%}
H2 { font-family:  'Lucida Grande', Verdana, Geneva, Lucida, arial, helvetica, sans serif; font-size: 135%}
H3 { font-family:  'Lucida Grande', Verdana, Geneva, Lucida, arial, helvetica, sans serif; font-size: 120%}
abbr, acronym, .help {
  border-bottom: 1px dotted #333;
  cursor: help;
}
.talklist_date{ background-color: #dddddd; font-weight: bold; }
.talklist_header{ font-weight: bold; }
.talklist_entry{ }
.talklist_block{ clear: right; }
.talklist_block_small{ font-size: 0.8em; }
.talklist_date_small{ background-color: #dddddd; font-weight: bold; }
.talklist_header_small{ font-weight: bold; }
--></STYLE></HEAD>
<BODY BGCOLOR="#ffffee"  TEXT="#000000" LINK="#0000C8" ALINK="#C80000" VLINK="#C80000">
<!-- This is the master table that everything sits inside -->
<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR valign=top ><!--This row is the parent organization head bar -->
<td colspan="2"  bgcolor="#beffd4"> <center> 
<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0><tr><td  >
<center> <b><A style="text-decoration: none" HREF="http://www.inference.phy.cam.ac.uk/is/">Inference Group</a></b> </center> 
</td>
</tr></table>
</center> </td>
</tr> 
<tr bgcolor="#008080" ><td colspan=3 ><img src="/images/pixel.gif" width="1" height="4" alt="."></td></tr>
<TR valign=top><!--This row contains the first bit of the navigation column (left) and the body of the page (right) -->
<!--begin sidebar-->
<TD height="400" VALIGN=TOP WIDTH="150" BGCOLOR="#95ffff">
<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0><tr>
<td width=4><img src="/images/pixel.gif"  alt="." width="4" height=1></td>
<td VALIGN=TOP WIDTH="150" >
<font face="Helvetica">
<br><div> <center><a HRef="./" ><font size=+1><b>Projekt Dasher</b></font></a></center></div>
<br><div> <table width="100%" cellpadding=0 cellspacing=0 border=0>
<tr valign=top><td colspan=2 width=-2 nowrap><b><a hRef="./" >Domowa</a></b>&nbsp;</td></tr>
<tr><td><img src=/images/pixel.gif width=1 height=6 alt="."></td></tr><tr valign=top><td colspan=2 width=-2 nowrap><b><a hRef=DasherSummary.html >Do czego s³u¿y Dasher?</a></b>&nbsp;</td></tr>
<tr><td><img src=/images/pixel.gif width=1 height=6 alt="."></td></tr><tr valign=top><td colspan=2 width=-2 nowrap><b><a hRef=DasherSummary2.html >Jak dzia³a Dasher?</a></b>&nbsp;</td></tr>
<tr valign=top><td width=7 >&#183;</td><td width=-9 nowrap><a hRef=Novice.html >Three-page explanation</a>&nbsp;</td></tr>
<tr valign=top><td width=7 >&#183;</td><td width=-9 nowrap><a hRef=Demonstrations.html >Demonstracje</a>&nbsp;</td></tr>
<tr valign=top><td width=7 >&#183;</td><td width=-9 nowrap><a hRef=TryJavaDasherNow.html >Try Dasher in your browser</a>&nbsp;</td></tr>
<tr><td><img src=/images/pixel.gif width=1 height=6 alt="."></td></tr><tr valign=top><td colspan=2 width=-2 nowrap><b><a hRef=Download.html >Pobranie</a></b>&nbsp;</td></tr>
<tr valign=top><td width=7 >&#183;</td><td width=-9 nowrap><a hRef=tips.html >Tips for Novices</a>&nbsp;</td></tr>
<tr valign=top><td width=7 >&#183;</td><td width=-9 nowrap><a hRef=YetMoreTips.html >22</a>&nbsp;</td></tr>
<tr><td><img src=/images/pixel.gif width=1 height=6 alt="."></td></tr><tr valign=top><td colspan=2 width=-2 nowrap><b><a hRef=SpecialNeeds.html >Special Needs</a></b>&nbsp;</td></tr>
<tr><td><img src=/images/pixel.gif width=1 height=6 alt="."></td></tr><tr valign=top><td colspan=2 width=-2 nowrap><b><a hRef=Languages.html >Languages</a></b>&nbsp;</td></tr>
<tr valign=top><td width=7 >&#183;</td><td width=-9 nowrap bgcolor="#ffffee" ><em><a hRef=Fonts.html >Fonts</a></em>&nbsp;<b>&#171;</b>&nbsp;</td></tr>
<tr><td><img src=/images/pixel.gif width=1 height=6 alt="."></td></tr><tr valign=top><td colspan=2 width=-2 nowrap><b><a hRef=Directions.html >Future directions</a></b>&nbsp;</td></tr>
<tr><td><img src=/images/pixel.gif width=1 height=6 alt="."></td></tr><tr valign=top><td colspan=2 width=-2 nowrap><b><a hRef=Publications.html >Publications</a></b>&nbsp;</td></tr>
<tr><td><img src=/images/pixel.gif width=1 height=6 alt="."></td></tr><tr valign=top><td colspan=2 width=-2 nowrap><b><a hRef=History.html >Historia</a></b>&nbsp;</td></tr>
<tr><td><img src=/images/pixel.gif width=1 height=6 alt="."></td></tr><tr valign=top><td colspan=2 width=-2 nowrap><b><a hRef=Develop.html >Rozwój</a></b>&nbsp;</td></tr>
<tr><td><img src=/images/pixel.gif width=1 height=6 alt="."></td></tr><tr valign=top><td colspan=2 width=-2 nowrap><b><a hRef=News.html >Press coverage</a></b>&nbsp;</td></tr>
<tr><td><img src=/images/pixel.gif width=1 height=6 alt="."></td></tr><tr valign=top><td colspan=2 width=-2 nowrap><b><a hRef=Press.html >Press Information</a></b>&nbsp;</td></tr>
</table>
</div>
<br><div> <b><a href="http://www.metafaq.com/faq/dasher/">Any questions?<br><img border=0 src="/images/mfsmallcyan.gif" alt="metafaq" width="100" height="26"></a></b></div>
<br><div> </div>
<br><div> <FORM METHOD=GET ACTION="http://web-search.cam.ac.uk/query.html">
Search :
<INPUT NAME="qp" TYPE="hidden" VALUE="site:www.inference.phy.cam.ac.uk">
<INPUT NAME="qt" TYPE="text" SIZE=10 VALUE="">
</FORM>
</div>
</font>
</td></tr></table>
</td>
<!--end sidebar-->
<td  bgcolor="#008080" width=1 rowspan=1><img src="/images/pixel.gif" width="1" height="1" alt="."></td>
<TD rowspan=1 VALIGN=TOP WIDTH="640" BGCOLOR="#ffffee" >
<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=8><tr><td VALIGN=TOP WIDTH="640" >
<font face="Helvetica">
<h2>Making the Training Text</h2>
<p> The training text should be a plain text file containing
 text `similar' to what you intend to write.
 The larger the better.
 We think that 300K is a good size to aim for.
</p><p>
 Example training texts that you could use are:
<ul>
  <li>Take all the documents you have written, and glue them
       all together in one big document. 
</li>
  <li>Use novels - eg, we used Jane Austen's <em>Emma</em> from
   <a href=http://promo.net/pg/>Project Gutenberg</a>. The problem with using
       just one or two novels, however, is that particular words (like Emma or Alice)
       occur very frequently; so novels are not ideal for a general-purpose training text.
</li>
       <li>Use all the email messages you have written, and glue them
       all together in one big document..
</li>
     </ul>

<h3>How to make a general-purpose training text</h3>     
 Here's how I made the training text for the English version of
 Dasher.
<ol>
  <li>
       Get lots of English documents.  Get far more material than you think you need,
       so that we can select a <em>well-balanced</em>
       set of sentences in a sensible way, as follows.
       </li>
  <li>
       Pre-process them all so that there is exactly one sentence per line.
<br>       I did this using a perl program I wrote,
       <a href=/mackay/perl/processbook.p>processbook.p</a>
       with scripts like this
       <pre>
foreach f ( alice emma )
  processbook.p  /books0/$f > /books/$f
end
</pre>       
       </li>
  <li><b>Now</b>, obtain a listing of the 2000 most frequent words in
       the language. The idea is, since these words are common, it is important that we should
       have them represented several times each in the final corpus, in a variety of
       contexts. We will use these words to select which sentences are included
       from our over-large corpus.
       <br>
       I obtained such a list from the internet and put it in a file called <tt>dict</tt>.
       I removed from dict any absurdly common words that prevented the remaining steps from
       working nicely.
       </li>
  <li>
       Use another  program to select from each pre-processed book the sentences
       that contain the 2000 required words. Go through the required words in order,
       so that the resulting corpus is also ordered, with the top of the corpus containing
       examples of use of the most common words; that way, the corpus can be shrunk by cutting
       its tail off, and should still be an appropriate corpus for its size.
       <br>
       Glue the sentences together into plausible-sized paragraphs, so as to emulate
       normal writing.
       <br>
       I did this step by using the linux utility <b>glimpse</b> and my perl
       program <a href=/mackay/perl/corpus.p>corpus.p</a>
       <pre>
rm  /data/coll/mackay/books/*~
glimpseindex -b  -B   -H ~/dasher/  /data/coll/mackay/books/
corpus.p k=1 f=4 o=corpus4.txt
       </pre>
       That's how I made <a href=/dasher/download/english/corpus4.txt1>this corpus</a> (316K),
       which is used in Dasher 1.6.8.
       </li>
</ol>

</p><p>
 If people make good corpuses in other languages and wish to share
 them, I can put them on <a href=/dasher/download/>this site</a>.
</p>
     


</td></tr><tr><td>
<hr size=1 noshade><div align=right>The Inference Group is supported  by the Gatsby Foundation<br> and by a partnership award from IBM Zurich Research Laboratory<hr size=2 noshade><A HREF="http://www.inference.phy.cam.ac.uk/mackay/">David MacKay</a></div><div align=left>Site last modified Fri Oct  1 10:33:20 BST 2010
</div>
   </font>
</td></tr></table>
</td>
</tr>
 </table>
</body></html>
